# WeatherApp iOS

–ü–æ–≥–æ–¥–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ iOS, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ **Swift –∏ UIKit**, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã **VIPER** –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ (`async/await`).

–ê–≤—Ç–æ—Ä: –ú–∏—Ö–∞–∏–ª –ï–≥–æ—Ä–æ–≤

---

## üì± –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–≥–æ–¥–µ –Ω–∞ –æ–¥–Ω–æ–º —ç–∫—Ä–∞–Ω–µ:
    
    - –¢–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞
        
    - –ü–æ—á–∞—Å–æ–≤–æ–π –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —á–∞—Å—ã —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è –∏ –≤—Å–µ —á–∞—Å—ã —Å–ª–µ–¥—É—é—â–µ–≥–æ
        
    - –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 3 –¥–Ω—è
        
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ pull-to-refresh
    
- –ü–æ–∫–∞–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫ —Å –∫–Ω–æ–ø–∫–æ–π –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
    
- –ó–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, fallback –Ω–∞ –ú–æ—Å–∫–≤—É –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ
    
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π, –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —è—á–µ–π–∫–∞–º–∏
    

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ **VIPER (View, Interactor, Presenter, Entity, Router)**:

|–ö–æ–º–ø–æ–Ω–µ–Ω—Ç|–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å|
|---|---|
|**View** (`WeatherViewController`)|Programmatic UI, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è: `.loading`, `.content`, `.error`. –ù–∞—Å—Ç—Ä–æ–µ–Ω UICollectionView —Å Compositional Layout –∏ DiffableDataSource.|
|**Interactor** (`WeatherInteractor`)|–ó–∞–ø—Ä–æ—Å –ø–æ–≥–æ–¥—ã —á–µ—Ä–µ–∑ `WeatherService`, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å LocationService.|
|**Presenter** (`WeatherPresenter`)|–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ Domain Model –≤ ViewModel –¥–ª—è UI, –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ View –∏ Router, –æ–±—Ä–∞–±–æ—Ç–∫–∞ Pull-to-Refresh.|
|**Router** (`WeatherRouter`)|–ü–æ–∫–∞–∑ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `UIAlertController`.|
|**Entity / Model** (`WeatherDomainModel` –∏ DTOs)|–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö: —Ç–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞, –ø–æ—á–∞—Å–æ–≤–∞—è, –¥–Ω–µ–≤–Ω–æ–π –ø—Ä–æ–≥–Ω–æ–∑. Mapper (`WeatherMapper`) –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç DTO –≤ Domain Model.|

---

## ‚öôÔ∏è Network –∏ API

- **NetworkClient**: –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å async/await, –ø—Ä–æ–≤–µ—Ä–∫–∞ HTTP-–∫–æ–¥–∞, JSON-–¥–µ–∫–æ–¥–∏–Ω–≥, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.
    
- **WeatherService**: –æ–¥–∏–Ω endpoint `forecast.json` –¥–ª—è —Ç–µ–∫—É—â–µ–π –∏ –ø—Ä–æ–≥–Ω–æ–∑–Ω–æ–π –ø–æ–≥–æ–¥—ã –Ω–∞ 3 –¥–Ω—è.
    
- **API**: [WeatherAPI.com](https://www.weatherapi.com/)
    

```text
https://api.weatherapi.com/v1/forecast.json?key=<API_KEY>&q=LAT,LON&days=3
```

- –û—à–∏–±–∫–∏ —Å–µ—Ç–∏ –∏–ª–∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è, –ø—Ä–∏ –∏—Ö –Ω–∞–ª–∏—á–∏–∏ —Å–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–µ—à, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ —Å retry.
    

---

## üåç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è

- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LocationService —Å `async/await`.
    
- –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –≥–µ–æ–ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.
    
- –ü—Ä–∏ –æ—Ç–∫–∞–∑–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è **–ú–æ—Å–∫–≤–∞** (`lat: 55.7558, lon: 37.6176`).
    

---

## üé® UI –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

- **–ü–æ–ª–Ω–æ—Å—Ç—å—é programmatic UI**, –±–µ–∑ Storyboard.
    
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **UICollectionViewCompositionalLayout** —Å —Ç—Ä–µ–º—è —Å–µ–∫—Ü–∏—è–º–∏:
    
    1. Current (—Ç–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞)
        
    2. Hourly (–ø–æ—á–∞—Å–æ–≤–æ–π –ø—Ä–æ–≥–Ω–æ–∑)
        
    3. Forecast (3-–¥–Ω–µ–≤–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑)
        
- **UICollectionViewDiffableDataSource** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–ª–∞–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.
    
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —è—á–µ–π–∫–∏:
    
    - `CurrentCell` ‚Äì —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∏–∫–æ–Ω–∫–∞
        
    - `HourlyCell` ‚Äì –≤—Ä–µ–º—è, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –∏–∫–æ–Ω–∫–∞
        
    - `ForecastCell` ‚Äì –¥–µ–Ω—å, –∏–∫–æ–Ω–∫–∞ –∏ –º–∏–Ω/–º–∞–∫—Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
        
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ pull-to-refresh, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ overlay views.
    

---

## üß© –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `async/await` –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ç–µ–≤—ã—Ö –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
    
- –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏:
    
    1. –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞ (`WeatherCacheService`)
        
    2. –ï—Å–ª–∏ –∫–µ—à –ø—É—Å—Ç–æ–π ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –æ—à–∏–±–∫–∏ —Å –∫–Ω–æ–ø–∫–æ–π –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
        
- –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `UIActivityIndicatorView`.
    

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç:
    
    - Interactor (—É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å, fallback –Ω–∞ –∫–µ—à, –æ—à–∏–±–∫–∞ –±–µ–∑ –∫–µ—à–∞)
        
    - Mapper (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è DTO ‚Üí Domain)
        
    - LocationService (fallback –Ω–∞ –ú–æ—Å–∫–≤—É –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ)
        
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è mock-—Å–µ—Ä–≤–∏—Å—ã –∏ MockOutput –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤.
    

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- Swift 5+
    
- UIKit, Programmatic UI
    
- UICollectionViewCompositionalLayout
    
- UICollectionViewDiffableDataSource
    
- CoreLocation
    
- Async/await –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
    
- Unit Tests —Å XCTest
    

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
    

```bash
git clone <URL>
```

2. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Xcode 15+
    
3. –ü–æ–¥—Å—Ç–∞–≤–∏—Ç—å API –∫–ª—é—á –≤ `WeatherService`
    
4. –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ –∏–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
    

---

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –∏–∫–æ–Ω–æ–∫ –ø–æ–≥–æ–¥—ã
    
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∏ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
    
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö API –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞
